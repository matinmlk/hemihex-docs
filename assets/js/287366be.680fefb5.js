"use strict";(globalThis.webpackChunkhemihex_docs=globalThis.webpackChunkhemihex_docs||[]).push([[4636],{28453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>t});var a=r(96540);const i={},c=a.createContext(i);function s(e){const n=a.useContext(c);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),a.createElement(c.Provider,{value:n},e.children)}},80725:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"Jetson/ROS1/project-file-structure","title":"Project File Structure","description":"2.1 Project File Structure","source":"@site/docs/Jetson/09 - ROS1/02-project-file-structure.md","sourceDirName":"Jetson/09 - ROS1","slug":"/Jetson/ROS1/project-file-structure","permalink":"/docs/Jetson/ROS1/project-file-structure","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Jetson/09 - ROS1/02-project-file-structure.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Project File Structure","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"ROS Introduction","permalink":"/docs/Jetson/ROS1/ros-introduction-core"},"next":{"title":"Common Commands and Tools","permalink":"/docs/Jetson/ROS1/common-commands-and-tools"}}');var i=r(74848),c=r(28453);const s={title:"Project File Structure",sidebar_position:2},t="2. Project File Structure",d={},l=[{value:"2.1 Project File Structure",id:"21-project-file-structure",level:2},{value:"2.2 Workspace",id:"22-workspace",level:2},{value:"2.3 Package (Feature Package)",id:"23-package-feature-package",level:2},{value:"Create a Feature Package",id:"create-a-feature-package",level:3},{value:"Typical Package File Structure",id:"typical-package-file-structure",level:3},{value:"2.4 Introduction to <code>CMakeLists.txt</code>",id:"24-introduction-to-cmakeliststxt",level:2},{value:"2.4.1 Overview",id:"241-overview",level:3},{value:"2.4.2 Basic Format",id:"242-basic-format",level:3},{value:"2.4.3 Boost",id:"243-boost",level:3},{value:"2.4.4 <code>catkin_package()</code>",id:"244-catkin_package",level:3},{value:"2.4.5 Include &amp; Link Directories",id:"245-include--link-directories",level:3}];function o(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",mermaid:"mermaid",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"2-project-file-structure",children:"2. Project File Structure"})}),"\n",(0,i.jsx)(n.h2,{id:"21-project-file-structure",children:"2.1 Project File Structure"}),"\n",(0,i.jsx)(n.p,{children:"The file structure of ROS is not mandatory for every folder and is designed according to business needs."}),"\n",(0,i.jsx)(n.mermaid,{value:'flowchart TD\r\n    A[catkin workspace]\r\n\r\n    A --\x3e B[build]\r\n    A --\x3e C[src]\r\n    A --\x3e D[devel]\r\n    A --\x3e E["install<br/>(Hardly)"]\r\n\r\n    C --\x3e P1[package1]\r\n    C --\x3e P2[package2]\r\n    C --\x3e Pn["..."]\r\n\r\n    P2 --\x3e F1[CMakeLists.txt]\r\n    P2 --\x3e F2[package.xml]\r\n    P2 --\x3e F3[scripts]\r\n    P2 --\x3e F4[msg]\r\n    P2 --\x3e F5[srv]\r\n    P2 --\x3e F6[src]\r\n    P2 --\x3e F7[include]\r\n    P2 --\x3e F8[launch]\r\n\r\n    F3 --\x3e S1["*.py"]\r\n    F3 --\x3e S2["*.sh"]\r\n\r\n    F4 --\x3e M1["*.msg"]\r\n    F5 --\x3e R1["*.srv"]\r\n\r\n    F6 --\x3e C1["*.cpp"]\r\n    F7 --\x3e H1["*.h"]\r\n    F8 --\x3e L1["*.launch"]\r\n'}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"22-workspace",children:"2.2 Workspace"}),"\n",(0,i.jsx)(n.p,{children:"A workspace is a place to manage and organize ROS engineering project files. It can be intuitively understood as a warehouse that contains various ROS projects, making it easy for the system to organize, manage, and call them. In a graphical interface, it is simply a folder. The ROS code we write ourselves is usually stored in the workspace."}),"\n",(0,i.jsx)(n.p,{children:"There are four main primary directories under a workspace:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"src"})," \u2014 Source space; ROS Catkin software packages (source code packages)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"build"})," \u2014 Compilation space; cache information and intermediate files for Catkin (CMake)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"devel"})," \u2014 Development space; generated target files (including header files, dynamic libraries, static libraries, executable files, etc.), and environment variables"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"install"})," \u2014 Installation space"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The top-level workspace (can be named arbitrarily) and the ",(0,i.jsx)(n.code,{children:"src"})," folder (must be named ",(0,i.jsx)(n.code,{children:"src"}),") need to be created manually."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.code,{children:"build"})," and ",(0,i.jsx)(n.code,{children:"devel"})," folders are created automatically by the ",(0,i.jsx)(n.code,{children:"catkin_make"})," command."]}),"\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.code,{children:"install"})," folder is created by the ",(0,i.jsx)(n.code,{children:"catkin_make install"})," command and is rarely used."]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["When using ",(0,i.jsx)(n.code,{children:"catkin_make"}),", make sure to return to the top-level workspace before compiling. In the same workspace, feature packages with the same name are not allowed. Across different workspaces, packages with the same name are allowed."]})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mkdir -p ~/catkin_ws/src        # create workspace and src folder\r\ncd catkin_ws                   # enter the workspace\r\ncatkin_make                    # compile\r\nsource devel/setup.bash        # update the workspace environment\n"})}),"\n",(0,i.jsx)(n.h2,{id:"23-package-feature-package",children:"2.3 Package (Feature Package)"}),"\n",(0,i.jsxs)(n.p,{children:["A package is a specific combination of file structures and folders. Usually, program code that implements the same specific function is placed in one package. Only ",(0,i.jsx)(n.code,{children:"CMakeLists.txt"})," and ",(0,i.jsx)(n.code,{children:"package.xml"})," are required; the remaining directories depend on the needs of the software package."]}),"\n",(0,i.jsx)(n.h3,{id:"create-a-feature-package",children:"Create a Feature Package"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd ~/catkin_ws/src\r\ncatkin_create_pkg my_pkg rospy rosmsg roscpp\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"rospy"}),", ",(0,i.jsx)(n.code,{children:"rosmsg"}),", and ",(0,i.jsx)(n.code,{children:"roscpp"})," are dependency libraries that can be added according to project needs. Adding them during creation avoids additional configuration later. If you forget to add them, they must be configured manually."]}),"\n",(0,i.jsx)(n.h3,{id:"typical-package-file-structure",children:"Typical Package File Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"|-- CMakeLists.txt\r\n|-- package.xml\r\n|-- include/\r\n|-- config/\r\n|-- launch/\r\n|-- meshes/\r\n|-- urdf/\r\n|-- rviz/\r\n|-- src/\r\n|-- scripts/\r\n|-- srv/\r\n|-- msg/\r\n|-- action/\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"24-introduction-to-cmakeliststxt",children:["2.4 Introduction to ",(0,i.jsx)(n.code,{children:"CMakeLists.txt"})]}),"\n",(0,i.jsx)(n.h3,{id:"241-overview",children:"2.4.1 Overview"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"CMakeLists.txt"})," is the rule file for the CMake compilation system. The Catkin build system follows the same structure as CMake, with additional macros specific to ROS."]}),"\n",(0,i.jsx)(n.p,{children:"This file specifies:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Which packages this project depends on"}),"\n",(0,i.jsx)(n.li,{children:"Which targets are compiled and generated"}),"\n",(0,i.jsx)(n.li,{children:"How compilation and linking are handled"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["When the Catkin build system runs, it first finds the ",(0,i.jsx)(n.code,{children:"CMakeLists.txt"})," file under each package and then compiles according to those rules."]}),"\n",(0,i.jsx)(n.h3,{id:"242-basic-format",children:"2.4.2 Basic Format"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cmake",children:"cmake_minimum_required()\r\nproject()\r\nfind_package()\r\ncatkin_python_setup()\r\nadd_message_files()\r\nadd_service_files()\r\nadd_action_files()\r\ngenerate_messages()\r\ncatkin_package()\r\nadd_library()\r\nadd_executable()\r\nadd_dependencies()\r\ntarget_link_libraries()\r\ncatkin_add_gtest()\r\ninstall()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"243-boost",children:"2.4.3 Boost"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cmake",children:"find_package(Boost REQUIRED COMPONENTS thread)\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"244-catkin_package",children:["2.4.4 ",(0,i.jsx)(n.code,{children:"catkin_package()"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cmake",children:"catkin_package(\r\n  INCLUDE_DIRS include\r\n  LIBRARIES ${PROJECT_NAME}\r\n  CATKIN_DEPENDS roscpp nodelet\r\n  DEPENDS eigen opencv\r\n)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"245-include--link-directories",children:"2.4.5 Include & Link Directories"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cmake",children:"include_directories(\r\n  include\r\n  ${Boost_INCLUDE_DIRS}\r\n  ${catkin_INCLUDE_DIRS}\r\n)\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cmake",children:"link_directories(~/my_libs)\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsxs)(n.p,{children:["Using ",(0,i.jsx)(n.code,{children:"link_directories()"})," is generally not recommended. Prefer defining dependencies via ",(0,i.jsx)(n.code,{children:"find_package()"})," and ",(0,i.jsx)(n.code,{children:"target_link_libraries()"}),"."]})})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}}}]);
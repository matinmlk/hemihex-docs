"use strict";(globalThis.webpackChunkhemihex_docs=globalThis.webpackChunkhemihex_docs||[]).push([[756],{7247:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>t,contentTitle:()=>d,default:()=>l,frontMatter:()=>c,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"HH-101/Docker/docker-interaction","title":"Docker Interaction","description":"This tutorial introduces data and hardware interaction between the","source":"@site/docs/hh101/HH-101/08 - Docker/05-docker-interaction.md","sourceDirName":"HH-101/08 - Docker","slug":"/HH-101/Docker/docker-interaction","permalink":"/hh-101/HH-101/Docker/docker-interaction","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"Docker Interaction"},"sidebar":"hh101Sidebar","previous":{"title":"Docker Usage (ROS 1 Environment)","permalink":"/hh-101/HH-101/Docker/docker-usage"},"next":{"title":"ROS Introduction","permalink":"/hh-101/HH-101/ROS1/ros-introduction-core"}}');var i=r(74848),a=r(28453);const c={sidebar_position:5,title:"Docker Interaction"},d="Docker Interaction",t={},h=[{value:"1. Bash Script",id:"1-bash-script",level:2},{value:"1.1 Basic Docker Script",id:"11-basic-docker-script",level:3},{value:"1.2 Run the Script",id:"12-run-the-script",level:3},{value:"2. Shared Data",id:"2-shared-data",level:2},{value:"2.1 Shared Folder",id:"21-shared-folder",level:3},{value:"2.2 Shared Network",id:"22-shared-network",level:3},{value:"3. Shared Hardware",id:"3-shared-hardware",level:2},{value:"3.1 Shared Graphical Interface (GUI)",id:"31-shared-graphical-interface-gui",level:3},{value:"3.2 Ordinary Camera",id:"32-ordinary-camera",level:3},{value:"3.3 Depth Camera",id:"33-depth-camera",level:3},{value:"Summary",id:"summary",level:2}];function o(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"docker-interaction",children:"Docker Interaction"})}),"\n",(0,i.jsxs)(n.p,{children:["This tutorial introduces ",(0,i.jsx)(n.strong,{children:"data and hardware interaction between the\r\nhost system and Docker containers"}),", including scripting, shared data,\r\nnetworking, and hardware access."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"1-bash-script",children:"1. Bash Script"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Bash (Bourne Again Shell)"})," is a scripting language used to automate\r\ntasks. It allows multiple Docker commands to be combined and executed\r\nsequentially, improving readability and reusability."]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsx)(n.p,{children:"Using scripts helps reduce long command lines with many parameters and\r\nmakes container startup easier to understand."})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"11-basic-docker-script",children:"1.1 Basic Docker Script"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Basic template:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"#!/bin/bash\r\n\r\ndocker run -it <image_name>:<tag> /bin/bash\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Example script"})," (",(0,i.jsx)(n.code,{children:"ros_melodic.sh"}),"):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"#!/bin/bash\r\n\r\ndocker run -it ros_melodic:1.0 /bin/bash\n"})}),"\n",(0,i.jsx)(n.p,{children:"Run the script:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sh ros_melodic.sh\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"12-run-the-script",children:"1.2 Run the Script"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sh ros_melodic.sh\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"2-shared-data",children:"2. Shared Data"}),"\n",(0,i.jsx)(n.p,{children:"Docker supports sharing host resources with containers."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"21-shared-folder",children:"2.1 Shared Folder"}),"\n",(0,i.jsxs)(n.p,{children:["Mount a host directory into the container using ",(0,i.jsx)(n.code,{children:"-v"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"#!/bin/bash\r\n\r\ndocker run -it -v /home/hemihex/share:/share ros_melodic:1.0 /bin/bash\n"})}),"\n",(0,i.jsxs)(n.p,{children:["This maps the host folder ",(0,i.jsx)(n.code,{children:"/home/hemihex/share"})," to ",(0,i.jsx)(n.code,{children:"/share"})," inside the\r\ncontainer."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"22-shared-network",children:"2.2 Shared Network"}),"\n",(0,i.jsxs)(n.p,{children:["Share the host network with Docker using ",(0,i.jsx)(n.code,{children:"--net=host"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"#!/bin/bash\r\n\r\ndocker run -it --net=host -v /home/hemihex/share:/share ros_melodic:1.0 /bin/bash\n"})}),"\n",(0,i.jsxs)(n.p,{children:["If ",(0,i.jsx)(n.code,{children:"ifconfig"})," is not available inside the container, install networking\r\ntools:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo apt install net-tools -y\r\nifconfig\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"3-shared-hardware",children:"3. Shared Hardware"}),"\n",(0,i.jsx)(n.p,{children:"Docker containers can access host hardware devices when explicitly\r\nenabled."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"31-shared-graphical-interface-gui",children:"3.1 Shared Graphical Interface (GUI)"}),"\n",(0,i.jsx)(n.p,{children:"To run GUI applications inside Docker and display them on the host:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"#!/bin/bash\r\n\r\nxhost +\r\n\r\ndocker run -it --net=host -e DISPLAY=$DISPLAY -e QT_X11_NO_MITSHM=1 -v /tmp/.X11-unix:/tmp/.X11-unix -v /home/hemihex/share:/share ros_melodic:1.0 /bin/bash\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsxs)(n.p,{children:["Using ",(0,i.jsx)(n.code,{children:"xhost +"})," disables access control for X11. Use it only in trusted\r\nenvironments."]})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"32-ordinary-camera",children:"3.2 Ordinary Camera"}),"\n",(0,i.jsxs)(n.p,{children:["USB cameras can be mapped into Docker containers using ",(0,i.jsx)(n.code,{children:"/dev/video*"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"If only one camera is connected, it is typically:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"/dev/video0\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"#!/bin/bash\r\n\r\nxhost +\r\n\r\ndocker run -it --net=host -e DISPLAY=$DISPLAY -e QT_X11_NO_MITSHM=1 -v /tmp/.X11-unix:/tmp/.X11-unix -v /home/hemihex/share:/share --device=/dev/video0 ros_melodic:1.0 /bin/bash\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"33-depth-camera",children:"3.3 Depth Camera"}),"\n",(0,i.jsxs)(n.p,{children:["Depth cameras (e.g., RGB\u2011D cameras) often expose multiple ",(0,i.jsx)(n.code,{children:"/dev/video*"}),"\r\ndevices."]}),"\n",(0,i.jsx)(n.p,{children:"To identify them:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ls /dev/video*\n"})}),"\n",(0,i.jsx)(n.p,{children:"Map all required devices into the container:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"--device=/dev/video0 --device=/dev/video1 --device=/dev/video2\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Bash scripts simplify Docker startup commands"}),"\n",(0,i.jsxs)(n.li,{children:["Volumes (",(0,i.jsx)(n.code,{children:"-v"}),") enable host--container file sharing"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"--net=host"})," allows shared networking"]}),"\n",(0,i.jsx)(n.li,{children:"GUI applications require X11 forwarding"}),"\n",(0,i.jsx)(n.li,{children:"Hardware devices must be explicitly mapped"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:["Maintained by ",(0,i.jsx)(n.strong,{children:"HemiHex"}),"."]})]})}function l(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>d});var s=r(96540);const i={},a=s.createContext(i);function c(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);
"use strict";(globalThis.webpackChunkhemihex_docs=globalThis.webpackChunkhemihex_docs||[]).push([[7574],{439:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/image-20250801214649785-6927b3240656826aaa941dcd1077f489.png"},2834:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/image-20250804113118977-94775d003d1fae675c5c2a6fe8511a08.png"},12760:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>a,toc:()=>o});const a=JSON.parse('{"id":"HH-101/Offline AI Model/multimodal-text-image-application-11-offlineaimodel-11-12","title":"Multimodal Text Image Application","description":"Since Ollama doesn\'t support text-to-image, we need to use other tools to implement this functionality natively.","source":"@site/docs/hh101/HH-101/11- Offline AI Model/12-multimodal-text-image-application-11-offlineaimodel-11-12.md","sourceDirName":"HH-101/11- Offline AI Model","slug":"/HH-101/Offline AI Model/multimodal-text-image-application-11-offlineaimodel-11-12","permalink":"/hh-101/HH-101/Offline AI Model/multimodal-text-image-application-11-offlineaimodel-11-12","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":0,"frontMatter":{"title":"Multimodal Text Image Application","sidebar_position":0},"sidebar":"hh101Sidebar","previous":{"title":"Multimodal Visual Understanding Application","permalink":"/hh-101/HH-101/Offline AI Model/multimodal-visual-understanding-11-offlineaimodel-11-11"},"next":{"title":"Multimodal Video Analysis Application","permalink":"/hh-101/HH-101/Offline AI Model/multimodal-video-analysis-application-11-offlineaimodel-11-13"}}');var i=s(74848),t=s(28453);const l={title:"Multimodal Text Image Application",sidebar_position:0},r="Multimodal Text Image Application",c={},o=[{value:"1. Concept Introduction",id:"1-concept-introduction",level:2},{value:"1.1 What is Text-to-Image?",id:"11-what-is-text-to-image",level:3},{value:"Core Principles",id:"core-principles",level:4},{value:"1.2 What is FastSDCPU?",id:"12-what-is-fastsdcpu",level:3},{value:"Core Features",id:"core-features",level:4},{value:"Applicable Scenarios",id:"applicable-scenarios",level:4},{value:"2. Project Deployment",id:"2-project-deployment",level:2},{value:"2.1 Deployment Environment",id:"21-deployment-environment",level:3},{value:"2.2 LAN Access",id:"22-lan-access",level:3},{value:"2.3 Using the Vinyl Image Function",id:"23-using-the-vinyl-image-function",level:3},{value:"2.4 How to start after successful deployment",id:"24-how-to-start-after-successful-deployment",level:3}];function d(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"multimodal-text-image-application",children:"Multimodal Text Image Application"})}),"\n",(0,i.jsx)(n.p,{children:"Since Ollama doesn't support text-to-image, we need to use other tools to implement this functionality natively."}),"\n",(0,i.jsx)(n.h2,{id:"1-concept-introduction",children:"1. Concept Introduction"}),"\n",(0,i.jsx)(n.h3,{id:"11-what-is-text-to-image",children:"1.1 What is Text-to-Image?"}),"\n",(0,i.jsx)(n.p,{children:'Text-to-Image is an AI technology that automatically generates images based on text descriptions . Simply enter a text (e.g., "A Shiba Inu wearing sunglasses surfing on the beach"), and the AI \u200b\u200bmodel will generate an image that matches the description based on semantic understanding. No painting or design skills are required.'}),"\n",(0,i.jsx)(n.h4,{id:"core-principles",children:"Core Principles"}),"\n",(0,i.jsx)(n.h3,{id:"12-what-is-fastsdcpu",children:"1.2 What is FastSDCPU?"}),"\n",(0,i.jsx)(n.p,{children:"FastSDCPU is an open-source Stable Diffusion image processing project optimized for CPU devices. Through algorithmic and engineering optimizations, it enables rapid generation of high-quality images on standard computers without a GPU, significantly lowering the hardware barrier to entry for AI painting."}),"\n",(0,i.jsx)(n.h4,{id:"core-features",children:"Core Features"}),"\n",(0,i.jsx)(n.h4,{id:"applicable-scenarios",children:"Applicable Scenarios"}),"\n",(0,i.jsx)(n.h2,{id:"2-project-deployment",children:"2. Project Deployment"}),"\n",(0,i.jsx)(n.h3,{id:"21-deployment-environment",children:"2.1 Deployment Environment"}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsx)(n.p,{children:"If using our pre-installed image, there is no need to deploy an environment and you can skip the deployment steps. Simply refer to [2.4 How to Start After Deployment] at the bottom to start the project directly."})}),"\n",(0,i.jsx)(n.p,{children:"Open a terminal and execute the following code:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"xxxxxxxxxx\n# If Git is not installed on your motherboard, run it first.\n\u200b\nsudo apt update\nsudo apt install git -y\nsudo apt install python3.10-venv -y\n\u200b\n# Add environment variables\necho 'export PATH=\"$HOME/.local/bin:$PATH\"' >> ~/.bashrc\nsource ~/.bashrc\n\u200b\n# Clone the project code\ngit clone https://github.com/rupeshs/fastsdcpu.git\ncd fastsdcpu\n\u200b\n# Create a virtual environment and install dependencies\npython -m venv venv\nsource venv/bin/activate\n\u200b\n# Install uv\ncurl -Ls https://astral.sh/uv/install.sh | sh (This step may not work if you don't have a proxy in China. If not, skip this step and proceed to the next command.)\n\u200b\n# If installing uv using curl in the previous step fails, run these three commands.\nwget https://mirrors.huaweicloud.com/astral/uv/0.8.4/uv-aarch64-unknown-linux-gnu -O ~/.local/bin/uv\nchmod +x ~/.local/bin/uv\n~/.local/bin/uv --version\n\u200b\nchmod +x install.sh start-webui.sh\n./install.sh --disable-gui\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"xxxxxxxxxx\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# If Git is not installed on your motherboard, run it first.\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"\u200b\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo apt update\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo apt install git -y\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo apt install python3.10-venv -y\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"\u200b\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Add environment variables\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"echo 'export PATH=\"$HOME/.local/bin:$PATH\"' >> ~/.bashrc\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"source ~/.bashrc\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"\u200b\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Clone the project code\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/rupeshs/fastsdcpu.git\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd fastsdcpu\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"\u200b\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Create a virtual environment and install dependencies\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"python -m venv venv\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"source venv/bin/activate\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"\u200b\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Install uv\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"curl -Ls https://astral.sh/uv/install.sh | sh (This step may not work if you don't have a proxy in China. If not, skip this step and proceed to the next command.)\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"\u200b\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# If installing uv using curl in the previous step fails, run these three commands.\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"wget https://mirrors.huaweicloud.com/astral/uv/0.8.4/uv-aarch64-unknown-linux-gnu -O ~/.local/bin/uv\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"chmod +x ~/.local/bin/uv\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"~/.local/bin/uv --version\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"\u200b\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"chmod +x install.sh start-webui.sh\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./install.sh --disable-gui\n"})}),"\n",(0,i.jsx)(n.p,{children:"Installation successful, press any key to exit:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20250801214649785",src:s(439).A+"",width:"544",height:"290"})}),"\n",(0,i.jsx)(n.h3,{id:"22-lan-access",children:"2.2 LAN Access"}),"\n",(0,i.jsx)(n.p,{children:"Before starting, you need to modify a file to support LAN access. Otherwise, the webui can only be accessed locally:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"xxxxxxxxxx\nvim ~/fastsdcpu/src/frontend/webui/ui.py\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"xxxxxxxxxx\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"vim ~/fastsdcpu/src/frontend/webui/ui.py\n"})}),"\n",(0,i.jsx)(n.p,{children:'After opening the ui.py file, scroll to the last line and find Change the line webui.launch(share=share) to webui.launch(server_name="0.0.0.0",share=share)'}),"\n",(0,i.jsx)(n.p,{children:"Save the code."}),"\n",(0,i.jsx)(n.p,{children:"Start:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"xxxxxxxxxx\n./start-webui.sh\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"xxxxxxxxxx\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./start-webui.sh\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20250801221311739",src:s(95012).A+"",width:"955",height:"626"})}),"\n",(0,i.jsx)(n.p,{children:"You can then access the webui by entering your motherboard's IP address: 7860 in your browser."}),"\n",(0,i.jsx)(n.h3,{id:"23-using-the-vinyl-image-function",children:"2.3 Using the Vinyl Image Function"}),"\n",(0,i.jsx)(n.p,{children:"Use ifconfig in the terminal to query your motherboard's IP address. For example, mine is 192.168.2.106."}),"\n",(0,i.jsx)(n.p,{children:"Then open your browser and enter your motherboard's IP address: 7860 . For example, I entered 192.168.2.106:7860, and you'll be able to access the webui."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20250804105134704",src:s(59113).A+"",width:"1592",height:"966"})}),"\n",(0,i.jsx)(n.p,{children:"Next, click LCM-LoRA. This model uses less memory, but if you'd like to use a different model, feel free to research it yourself."}),"\n",(0,i.jsx)(n.p,{children:"Next, click Models to see the LCM-LoRA model settings. You can change the model to your preference, or just stick with the default like I did."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20250804105439656",src:s(31693).A+"",width:"1536",height:"580"})}),"\n",(0,i.jsx)(n.p,{children:"Next, click Generation Settings and increase the Inference Steps setting to improve the quality of the generated image. I've set it to 5."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20250804111046973",src:s(59380).A+"",width:"1532",height:"534"})}),"\n",(0,i.jsx)(n.p,{children:"Next, return to the Text to Image dialog box and enter the content you want to generate. Click Generate to begin generating the image."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20250804105656393",src:s(49096).A+"",width:"1501",height:"818"})}),"\n",(0,i.jsx)(n.p,{children:"For first-time users, you'll need to download the model. You'll see the default model being downloaded in the terminal. Once it's finished downloading, the text-to-image function will begin."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20250804105710057",src:s(59146).A+"",width:"955",height:"626"})}),"\n",(0,i.jsx)(n.p,{children:"Generated result:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20250804113118977",src:s(2834).A+"",width:"1467",height:"839"})}),"\n",(0,i.jsx)(n.p,{children:"This project has better support for English, and the generated images are more consistent with the text. We recommend using English descriptions when generating images."}),"\n",(0,i.jsx)(n.h3,{id:"24-how-to-start-after-successful-deployment",children:"2.4 How to start after successful deployment"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"xxxxxxxxxx\ncd fastsdcpu #Enter the fastsdcpu directory\nsource venv/bin/activate #Enter the virtual environment\n./start-webui.sh #Start the webui\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"xxxxxxxxxx\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd fastsdcpu #Enter the fastsdcpu directory\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"source venv/bin/activate #Enter the virtual environment\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./start-webui.sh #Start the webui\n"})}),"\n",(0,i.jsx)(n.p,{children:"After the webui is successfully started, enter your motherboard's IP address: 7860 in your browser to start the image generation function."})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>r});var a=s(96540);const i={},t=a.createContext(i);function l(e){const n=a.useContext(t);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),a.createElement(t.Provider,{value:n},e.children)}},31693:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/image-20250804105439656-867cd484baafb3881e67666e4b74ed16.png"},49096:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/image-20250804105656393-1f3a96a48c20e306c6dc3144ab26d1ef.png"},59113:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/image-20250804105134704-14783deec13365798e1b98fbd6c8722c.png"},59146:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/image-20250804105710057-75abd137e49259669a18bb9b4e538a00.png"},59380:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/image-20250804111046973-1daed581749470742bcb22cee031be85.png"},95012:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/image-20250801221311739-74a6c523f98f1ec3e7a963e2371aa4ee.png"}}]);
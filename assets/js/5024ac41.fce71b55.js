"use strict";(globalThis.webpackChunkhemihex_docs=globalThis.webpackChunkhemihex_docs||[]).push([[667],{28453:(e,n,o)=>{o.d(n,{R:()=>s,x:()=>a});var i=o(96540);const l={},t=i.createContext(l);function s(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),i.createElement(t.Provider,{value:n},e.children)}},70564:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>r,contentTitle:()=>a,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"HH-101/Offline AI Model/ai-large-model-offline-voice-assistant-11-offlineaimodel-11-26","title":"Multimodal Autonomous Proxy Application","description":"1. Concept Introduction","source":"@site/docs/hh101/HH-101/11 - Offline AI Model/25-ai-large-model-offline-voice-assistant-11-offlineaimodel-11-26.md","sourceDirName":"HH-101/11 - Offline AI Model","slug":"/HH-101/Offline AI Model/ai-large-model-offline-voice-assistant-11-offlineaimodel-11-26","permalink":"/hh-101/HH-101/Offline AI Model/ai-large-model-offline-voice-assistant-11-offlineaimodel-11-26","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":25,"frontMatter":{"title":"Multimodal Autonomous Proxy Application","sidebar_position":25},"sidebar":"hh101Sidebar","previous":{"title":"Multimodal Visual Understanding Application","permalink":"/hh-101/HH-101/Offline AI Model/multimodal-visual-understanding-11-offlineaimodel-11-11"},"next":{"title":"Multimodal Video Understanding","permalink":"/hh-101/HH-101/Online AI Model/multimodal-visual-understanding-application-12-onlineaimodel-12-2"}}');var l=o(74848),t=o(28453);const s={title:"Multimodal Autonomous Proxy Application",sidebar_position:25},a="Multimodal Autonomous Proxy Application",r={},d=[{value:"1. Concept Introduction",id:"1-concept-introduction",level:2},{value:"1.1 What is an &quot;Autonomous Agent&quot;?",id:"11-what-is-an-autonomous-agent",level:3},{value:"1.2 Implementation Principles",id:"12-implementation-principles",level:3},{value:"2. Code Analysis",id:"2-code-analysis",level:2},{value:"Key Code",id:"key-code",level:3},{value:"2.1 Agent Core Workflow (<code>largemodel/utils/ai_agent.py</code>)",id:"21-agent-core-workflow-largemodelutilsai_agentpy",level:4},{value:"2.2 Reasoning Module",id:"22-reasoning-module",level:4},{value:"2.3 Tool Invocation",id:"23-tool-invocation",level:4},{value:"Architecture Summary",id:"architecture-summary",level:3},{value:"3. Offline Model Configuration",id:"3-offline-model-configuration",level:2},{value:"3.1 LLM Platform Configuration (<code>hemihex.yaml</code>)",id:"31-llm-platform-configuration-hemihexyaml",level:3},{value:"3.2 Ollama Configuration",id:"32-ollama-configuration",level:3},{value:"4. Running the Autonomous Agent",id:"4-running-the-autonomous-agent",level:2},{value:"5. Common Problems and Solutions",id:"5-common-problems-and-solutions",level:2},{value:"Problem 1: Agent loops indefinitely",id:"problem-1-agent-loops-indefinitely",level:3},{value:"Problem 2: Tool execution fails",id:"problem-2-tool-execution-fails",level:3}];function c(e){const n={admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"multimodal-autonomous-proxy-application",children:"Multimodal Autonomous Proxy Application"})}),"\n",(0,l.jsx)(n.h2,{id:"1-concept-introduction",children:"1. Concept Introduction"}),"\n",(0,l.jsx)(n.h3,{id:"11-what-is-an-autonomous-agent",children:'1.1 What is an "Autonomous Agent"?'}),"\n",(0,l.jsxs)(n.p,{children:["An ",(0,l.jsx)(n.strong,{children:"autonomous agent"})," is a software entity capable of independently perceiving its environment, making decisions, and executing actions to achieve a goal. In the ",(0,l.jsx)(n.code,{children:"largemodel"})," project, the autonomous proxy agent integrates ",(0,l.jsx)(n.strong,{children:"multimodal perception"}),", ",(0,l.jsx)(n.strong,{children:"reasoning"}),", and ",(0,l.jsx)(n.strong,{children:"action execution"})," into a single closed-loop system."]}),"\n",(0,l.jsx)(n.p,{children:"This allows the system to accept high-level user instructions and autonomously determine the necessary steps to complete a task."}),"\n",(0,l.jsx)(n.h3,{id:"12-implementation-principles",children:"1.2 Implementation Principles"}),"\n",(0,l.jsx)(n.p,{children:"The multimodal autonomous proxy is built on three core components:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Perception"}),(0,l.jsx)(n.br,{}),"\n","Collects multimodal inputs such as text commands, images, and system context."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Decision Making (Reasoning)"}),(0,l.jsx)(n.br,{}),"\n","Uses a large language model to analyze the current state and determine the next action."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Action Execution"}),(0,l.jsx)(n.br,{}),"\n","Executes system-level or robot-level commands through predefined tools."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"This perception\u2013decision\u2013action loop enables continuous autonomous behavior."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"2-code-analysis",children:"2. Code Analysis"}),"\n",(0,l.jsx)(n.h3,{id:"key-code",children:"Key Code"}),"\n",(0,l.jsxs)(n.h4,{id:"21-agent-core-workflow-largemodelutilsai_agentpy",children:["2.1 Agent Core Workflow (",(0,l.jsx)(n.code,{children:"largemodel/utils/ai_agent.py"}),")"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'class AIAgent:\n\n    def run(self, user_input):\n        """\n        Main agent execution loop.\n        """\n        while True:\n            decision = self.reason(user_input)\n            if decision["type"] == "tool":\n                self.call_tool(decision)\n            elif decision["type"] == "response":\n                return decision["content"]\n'})}),"\n",(0,l.jsx)(n.h4,{id:"22-reasoning-module",children:"2.2 Reasoning Module"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'def reason(self, input_text):\n    """\n    Analyze input and decide next action.\n    """\n    response = self.model.infer(input_text)\n    return self.parse_response(response)\n'})}),"\n",(0,l.jsx)(n.h4,{id:"23-tool-invocation",children:"2.3 Tool Invocation"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'def call_tool(self, decision):\n    """\n    Execute a tool selected by the model.\n    """\n    tool_name = decision["tool"]\n    return self.tools_manager.execute(tool_name, decision["args"])\n'})}),"\n",(0,l.jsx)(n.h3,{id:"architecture-summary",children:"Architecture Summary"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Agent Layer"}),": Controls task planning and execution."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Model Interface Layer"}),": Handles communication with the large language model."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Tool Layer"}),": Provides callable system and robot functions."]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"This layered design enables extensibility and platform independence."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"3-offline-model-configuration",children:"3. Offline Model Configuration"}),"\n",(0,l.jsxs)(n.h3,{id:"31-llm-platform-configuration-hemihexyaml",children:["3.1 LLM Platform Configuration (",(0,l.jsx)(n.code,{children:"hemihex.yaml"}),")"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'model_service:\n  ros__parameters:\n    llm_platform: "ollama"\n    language: "en"\n'})}),"\n",(0,l.jsx)(n.h3,{id:"32-ollama-configuration",children:"3.2 Ollama Configuration"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'# Offline Large Language Models\nollama_host: "http://localhost:11434"\nollama_model: "llava"\n'})}),"\n",(0,l.jsx)(n.admonition,{type:"note",children:(0,l.jsx)(n.p,{children:"Ensure the configured model supports multimodal reasoning and tool calling."})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"4-running-the-autonomous-agent",children:"4. Running the Autonomous Agent"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Start the largemodel service"}),":"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"ros2 launch largemodel largemodel_control.launch.py\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Send a high-level command"}),":"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"ros2 run text_chat text_chat\n"})}),"\n",(0,l.jsx)(n.p,{children:"Example input:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-text",children:"Analyze the environment and decide what to do next\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Expected behavior"}),(0,l.jsx)(n.br,{}),"\n","The agent reasons about the request, selects tools as needed, and autonomously executes actions."]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"5-common-problems-and-solutions",children:"5. Common Problems and Solutions"}),"\n",(0,l.jsx)(n.h3,{id:"problem-1-agent-loops-indefinitely",children:"Problem 1: Agent loops indefinitely"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Solution"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Verify tool responses are correctly formatted."}),"\n",(0,l.jsx)(n.li,{children:"Ensure stop conditions are defined in prompts."}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"problem-2-tool-execution-fails",children:"Problem 2: Tool execution fails"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Solution"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Check tool registration."}),"\n",(0,l.jsx)(n.li,{children:"Verify permissions and system dependencies."}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsxs)(n.p,{children:["This documentation is maintained by ",(0,l.jsx)(n.strong,{children:"HemiHex"})," and describes the offline multimodal autonomous proxy application architecture."]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}}}]);
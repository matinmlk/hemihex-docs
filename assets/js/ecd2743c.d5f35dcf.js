"use strict";(globalThis.webpackChunkhemihex_docs=globalThis.webpackChunkhemihex_docs||[]).push([[3942],{21627:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/image-20250105153026285-8a5cc773874d45ce4653c9b392404093.png"},26057:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/image-20250105150825784-34f834a2932ac08fa2b5b18f9075be6f.png"},28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>c});var t=s(96540);const i={},r=t.createContext(i);function a(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(r.Provider,{value:n},e.children)}},29187:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/image-20250105151255171-dbbfe2d339038e7293a920223f38cea6.png"},41425:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/image-20250105150553931-0b40fcd2491b0765b589c22f2a78c64c.png"},54087:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/image-20250105151200285-e5caa714453d076372b39b0a36b14382.png"},56102:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/image-20250105145841732-101d027c55698cb9b90b6b340ae985d7.png"},72717:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/image-20250105150409953-411b38827f775f56ebec47189b9db1eb.png"},74791:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"HH-101/Docker/docker-usage","title":"Docker Usage (ROS 1 Environment)","description":"This tutorial demonstrates how to build a ROS 1 Melodic environment","source":"@site/docs/hh101/HH-101/08 - Docker/04-docker-usage.md","sourceDirName":"HH-101/08 - Docker","slug":"/HH-101/Docker/docker-usage","permalink":"/hh-101/HH-101/Docker/docker-usage","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Docker Usage (ROS 1 Environment)"},"sidebar":"hh101Sidebar","previous":{"title":"Docker Commands","permalink":"/hh-101/HH-101/Docker/docker-commands"},"next":{"title":"Docker Interaction","permalink":"/hh-101/HH-101/Docker/docker-interaction"}}');var i=s(74848),r=s(28453);const a={sidebar_position:4,title:"Docker Usage (ROS 1 Environment)"},c="Docker Usage",o={},l=[{value:"1. Start the Image",id:"1-start-the-image",level:2},{value:"2. ROS Environment Construction",id:"2-ros-environment-construction",level:2},{value:"2.1 Update System Software",id:"21-update-system-software",level:3},{value:"2.2 Determine the Language Environment",id:"22-determine-the-language-environment",level:3},{value:"2.2.1 Verify the System Environment",id:"221-verify-the-system-environment",level:4},{value:"2.2.2 Set the UTF-8 Environment",id:"222-set-the-utf-8-environment",level:4},{value:"2.3 Set Software Source",id:"23-set-software-source",level:3},{value:"2.4 Set ROS Key",id:"24-set-ros-key",level:3},{value:"2.5 Install ROS 1 Desktop Version",id:"25-install-ros-1-desktop-version",level:3},{value:"2.6 Install ROS Dependencies",id:"26-install-ros-dependencies",level:3},{value:"2.7 rosdep Initialization",id:"27-rosdep-initialization",level:3},{value:"2.8 Setting Environment Variables",id:"28-setting-environment-variables",level:3},{value:"2.8.1 Temporary Settings",id:"281-temporary-settings",level:4},{value:"2.8.2 Automatic Settings (Recommended)",id:"282-automatic-settings-recommended",level:4},{value:"3. Submit the Image",id:"3-submit-the-image",level:2},{value:"4. Verify the Image / ROS",id:"4-verify-the-image--ros",level:2},{value:"4.1 Start the Image",id:"41-start-the-image",level:3},{value:"4.2 Verify the ROS Environment",id:"42-verify-the-ros-environment",level:3}];function d(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",img:"img",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"docker-usage",children:"Docker Usage"})}),"\n",(0,i.jsxs)(n.p,{children:["This tutorial demonstrates how to build a ",(0,i.jsx)(n.strong,{children:"ROS 1 Melodic"})," environment\r\ninside a Docker container based on ",(0,i.jsx)(n.code,{children:"ubuntu:18.04"}),"."]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["All commands are executed ",(0,i.jsx)(n.strong,{children:"inside the Docker container"}),". Administrator\r\nprivileges (",(0,i.jsx)(n.code,{children:"sudo"}),") are not required inside Docker."]})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"1-start-the-image",children:"1. Start the Image"}),"\n",(0,i.jsx)(n.p,{children:"Start the Ubuntu 18.04 image in interactive mode:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker run -it ubuntu:18.04 /bin/bash\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Start Container",src:s(56102).A+"",width:"1280",height:"800"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"2-ros-environment-construction",children:"2. ROS Environment Construction"}),"\n",(0,i.jsx)(n.h3,{id:"21-update-system-software",children:"2.1 Update System Software"}),"\n",(0,i.jsx)(n.p,{children:"Ensure system packages are up to date:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"apt update && apt upgrade\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"System Update",src:s(72717).A+"",width:"1280",height:"800"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"22-determine-the-language-environment",children:"2.2 Determine the Language Environment"}),"\n",(0,i.jsx)(n.p,{children:"ROS requires UTF-8 support."}),"\n",(0,i.jsx)(n.h4,{id:"221-verify-the-system-environment",children:"2.2.1 Verify the System Environment"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"locale\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Locale Check",src:s(41425).A+"",width:"1280",height:"800"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"222-set-the-utf-8-environment",children:"2.2.2 Set the UTF-8 Environment"}),"\n",(0,i.jsx)(n.p,{children:"If UTF-8 is not enabled, run:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'apt install locales\r\nlocale-gen en_US en_US.UTF-8\r\nupdate-locale LC_ALL=en_US.UTF-8 LANG=en_US.UTF-8\r\necho "export LANG=en_US.UTF-8" >> ~/.bashrc\r\nsource ~/.bashrc\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"UTF-8 Setup",src:s(26057).A+"",width:"1280",height:"800"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"23-set-software-source",children:"2.3 Set Software Source"}),"\n",(0,i.jsx)(n.p,{children:"Install required tools:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"apt install lsb-core\n"})}),"\n",(0,i.jsx)(n.p,{children:"Add ROS software source:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sh -c '. /etc/lsb-release && echo \"deb http://mirrors.tuna.tsinghua.edu.cn/ros/ubuntu/ `lsb_release -cs` main\" > /etc/apt/sources.list.d/ros-latest.list'\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"ROS Source",src:s(54087).A+"",width:"1280",height:"800"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"24-set-ros-key",children:"2.4 Set ROS Key"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"apt-key adv --keyserver 'hkp://keyserver.ubuntu.com:80' --recv-key C1CF6E31E6BADE8868B172B4F42ED6FBAB17C654\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"ROS Key",src:s(29187).A+"",width:"1280",height:"800"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"25-install-ros-1-desktop-version",children:"2.5 Install ROS 1 Desktop Version"}),"\n",(0,i.jsx)(n.p,{children:"Install ROS Melodic desktop-full:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"apt update && apt upgrade\r\napt install ros-melodic-desktop-full -y\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"ROS Install",src:s(99536).A+"",width:"1280",height:"800"})}),"\n",(0,i.jsx)(n.p,{children:"During installation, select your region and city when prompted."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Timezone Select",src:s(21627).A+"",width:"1280",height:"800"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"26-install-ros-dependencies",children:"2.6 Install ROS Dependencies"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"apt install python-rosdep python-rosinstall python-rosinstall-generator python-wstool build-essential -y\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Dependencies",src:s(92320).A+"",width:"1280",height:"800"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"27-rosdep-initialization",children:"2.7 rosdep Initialization"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"rosdep init\r\nrosdep update\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsxs)(n.p,{children:["If ",(0,i.jsx)(n.code,{children:"rosdep init"})," fails due to GitHub access issues, resolve DNS manually\r\nby mapping ",(0,i.jsx)(n.code,{children:"raw.githubusercontent.com"})," in ",(0,i.jsx)(n.code,{children:"/etc/hosts"}),"."]})}),"\n",(0,i.jsx)(n.p,{children:"Install editor if needed:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"apt install nano -y\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"28-setting-environment-variables",children:"2.8 Setting Environment Variables"}),"\n",(0,i.jsx)(n.h4,{id:"281-temporary-settings",children:"2.8.1 Temporary Settings"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"source /opt/ros/melodic/setup.bash\n"})}),"\n",(0,i.jsx)(n.h4,{id:"282-automatic-settings-recommended",children:"2.8.2 Automatic Settings (Recommended)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'echo "source /opt/ros/melodic/setup.bash" >> ~/.bashrc\r\nsource ~/.bashrc\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"3-submit-the-image",children:"3. Submit the Image"}),"\n",(0,i.jsx)(n.p,{children:"After completing configuration, exit the container:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"exit\n"})}),"\n",(0,i.jsx)(n.p,{children:"Find the container ID:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker ps -a\n"})}),"\n",(0,i.jsx)(n.p,{children:"Commit the container as a new image:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker commit <CONTAINER_ID> ros-melodic:18.04\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"4-verify-the-image--ros",children:"4. Verify the Image / ROS"}),"\n",(0,i.jsx)(n.h3,{id:"41-start-the-image",children:"4.1 Start the Image"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker run -it ros-melodic:18.04 /bin/bash\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"42-verify-the-ros-environment",children:"4.2 Verify the ROS Environment"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"roscore\n"})}),"\n",(0,i.jsx)(n.p,{children:"If ROS starts successfully, the environment is ready."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:["Maintained by ",(0,i.jsx)(n.strong,{children:"HemiHex"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},92320:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/image-20250105153047221-a4b7d1aed0135a0e823bb39a2f7fba37.png"},99536:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/image-20250105151509965-89eeb1ffd9fcb166ff1b79d4675c2ef6.png"}}]);
"use strict";(globalThis.webpackChunkhemihex_docs=globalThis.webpackChunkhemihex_docs||[]).push([[1288],{28453:(e,n,a)=>{a.d(n,{R:()=>r,x:()=>o});var l=a(96540);const s={},i=l.createContext(s);function r(e){const n=l.useContext(i);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),l.createElement(i.Provider,{value:n},e.children)}},62122:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>t,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"HH-101/Offline AI Model/multimodal-table-scanning-application-11-offlineaimodel-11-15","title":"Multimodal Table Scanning Application","description":"1. Concept Introduction","source":"@site/docs/hh101/HH-101/11- Offline AI Model/15-multimodal-table-scanning-application-11-offlineaimodel-11-15.md","sourceDirName":"HH-101/11- Offline AI Model","slug":"/HH-101/Offline AI Model/multimodal-table-scanning-application-11-offlineaimodel-11-15","permalink":"/hh-101/HH-101/Offline AI Model/multimodal-table-scanning-application-11-offlineaimodel-11-15","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":0,"frontMatter":{"title":"Multimodal Table Scanning Application","sidebar_position":0},"sidebar":"hh101Sidebar","previous":{"title":"Multi-module Visual Position Application","permalink":"/hh-101/HH-101/Offline AI Model/multi-module-visual-position-application-11-offlineaimodel-11-14"},"next":{"title":"Multimodal Autonomous Agent Application","permalink":"/hh-101/HH-101/Offline AI Model/multimodal-autonomous-agent-application-11-offlineaimodel-11-16"}}');var s=a(74848),i=a(28453);const r={title:"Multimodal Table Scanning Application",sidebar_position:0},o="Multimodal table scanning application",t={},c=[{value:"1. Concept Introduction",id:"1-concept-introduction",level:2},{value:"1.1 What is &quot;Multimodal Table Scanning&quot;?",id:"11-what-is-multimodal-table-scanning",level:3},{value:"1.2 Implementation Principle Overview",id:"12-implementation-principle-overview",level:3},{value:"2. Code Analysis",id:"2-code-analysis",level:2},{value:"Key Code",id:"key-code",level:3},{value:"1. Tool Layer Entry ( largemodel/utils/tools_manager.py )",id:"1-tool-layer-entry--largemodelutilstools_managerpy-",level:4},{value:"2. Model Interface Layer ( largemodel/utils/large_model_interface.py )",id:"2-model-interface-layer--largemodelutilslarge_model_interfacepy-",level:4},{value:"Code Analysis",id:"code-analysis",level:3},{value:"3. Practical Operations",id:"3-practical-operations",level:2},{value:"3.1 Configuring the Offline Large Model",id:"31-configuring-the-offline-large-model",level:3},{value:"3.1.1 Configuring the LLM Platform (HemiHex.yaml)",id:"311-configuring-the-llm-platform-hemihexyaml",level:4},{value:"3.1.2 \u914d\u7f6e\u6a21\u578b\u63a5\u53e3 ( large_model_interface.yaml )",id:"312-\u914d\u7f6e\u6a21\u578b\u63a5\u53e3--large_model_interfaceyaml-",level:4},{value:"3.2 Starting and Testing (Text Mode)",id:"32-starting-and-testing-text-mode",level:3},{value:"4. Common Problems and Solutions",id:"4-common-problems-and-solutions",level:2},{value:"Problem 1: Incomplete recognition of table content or typos.",id:"problem-1-incomplete-recognition-of-table-content-or-typos",level:4},{value:"Problem 2: &quot;Table file not found&quot; error",id:"problem-2-table-file-not-found-error",level:4}];function d(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"multimodal-table-scanning-application",children:"Multimodal table scanning application"})}),"\n",(0,s.jsx)(n.h2,{id:"1-concept-introduction",children:"1. Concept Introduction"}),"\n",(0,s.jsx)(n.h3,{id:"11-what-is-multimodal-table-scanning",children:'1.1 What is "Multimodal Table Scanning"?'}),"\n",(0,s.jsx)(n.p,{children:"Multimodal table scanning is a technology that uses image processing and artificial intelligence to identify and extract table information from images or PDF documents. It not only focuses on visual table structure recognition but also incorporates multimodal data such as text content and layout information to enhance table understanding. Large Language Models (LLMs) provide powerful semantic analysis capabilities to understand this extracted information. The two complement each other and enhance the intelligence of document processing."}),"\n",(0,s.jsx)(n.h3,{id:"12-implementation-principle-overview",children:"1.2 Implementation Principle Overview"}),"\n",(0,s.jsx)(n.h2,{id:"2-code-analysis",children:"2. Code Analysis"}),"\n",(0,s.jsx)(n.h3,{id:"key-code",children:"Key Code"}),"\n",(0,s.jsx)(n.h4,{id:"1-tool-layer-entry--largemodelutilstools_managerpy-",children:"1. Tool Layer Entry ( largemodel/utils/tools_manager.py )"}),"\n",(0,s.jsx)(n.p,{children:"The scan_table function in this file defines the tool's execution flow, specifically how it constructs a prompt that returns a Markdown-formatted result."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'xxxxxxxxxx\n# From largemodel/utils/tools_manager.py\nclass\nToolsManager\n:\n# ...\ndef\nscan_table\n(\nself\n,\nargs\n):\n"""\nScan a table from an image and save the content as a Markdown file.\n\u4ece\u56fe\u50cf\u4e2d\u626b\u63cf\u8868\u683c\uff0c\u5e76\u5c06\u5185\u5bb9\u4fdd\u5b58\u4e3aMarkdown\u6587\u4ef6\u3002\n\u200b\n:param args: Arguments containing the image path.\n:return: Dictionary with file path and content.\n"""\nself\n.\nnode\n.\nget_logger\n().\ninfo\n(\nf"Executing scan_table() tool with args: {args}"\n)\ntry\n:\nimage_path\n=\nargs\n.\nget\n(\n"image_path"\n)\n# ... (\u8def\u5f84\u68c0\u67e5\u548c\u56de\u9000)\n\u200b\n# Construct a prompt asking the large model to recognize the table and return it in Markdown format.\n# \u6784\u9020\u63d0\u793a\uff0c\u8981\u6c42\u5927\u6a21\u578b\u8bc6\u522b\u8868\u683c\u5e76\u4ee5Markdown\u683c\u5f0f\u8fd4\u56de\u3002\nif\nself\n.\nnode\n.\nlanguage\n==\n\'zh\'\n:\nprompt\n=\n"\u8bf7\u4ed4\u7ec6\u5206\u6790\u8fd9\u5f20\u56fe\u7247\uff0c\u8bc6\u522b\u5176\u4e2d\u7684\u8868\u683c\uff0c\u5e76\u5c06\u5176\u5185\u5bb9\u4ee5Markdown\u683c\u5f0f\u8fd4\u56de\u3002"\nelse\n:\nprompt\n=\n"Please carefully analyze this image, identify the table within it, and return its content in Markdown format."\n\u200b\nresult\n=\nself\n.\nnode\n.\nmodel_client\n.\ninfer_with_image\n(\nimage_path\n,\nprompt\n)\n# ... (\u4ece\u7ed3\u679c\u4e2d\u63d0\u53d6Markdown\u6587\u672c)\n\u200b\n# Save the recognized content to a Markdown file. / \u5c06\u8bc6\u522b\u51fa\u7684\u5185\u5bb9\u4fdd\u5b58\u5230Markdown\u6587\u4ef6\u3002\nmd_file_path\n=\nos\n.\npath\n.\njoin\n(\nself\n.\nnode\n.\npkg_path\n,\n"resources_file"\n,\n"scanned_tables"\n,\nf"table_{timestamp}.md"\n)\nwith\nopen\n(\nmd_file_path\n,\n\'w\'\n,\nencoding\n=\n\'utf-8\'\n)\nas\nf\n:\nf\n.\nwrite\n(\ntable_content\n)\n\u200b\nreturn\n{\n"file_path"\n:\nmd_file_path\n,\n"table_content"\n:\ntable_content\n}\n# ... (\u9519\u8bef\u5904\u7406)\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"xxxxxxxxxx\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# From largemodel/utils/tools_manager.py\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"class\nToolsManager\n:\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# ...\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"def\nscan_table\n(\nself\n,\nargs\n):\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'"""\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Scan a table from an image and save the content as a Markdown file.\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"\u4ece\u56fe\u50cf\u4e2d\u626b\u63cf\u8868\u683c\uff0c\u5e76\u5c06\u5185\u5bb9\u4fdd\u5b58\u4e3aMarkdown\u6587\u4ef6\u3002\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"\u200b\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:":param args: Arguments containing the image path.\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:":return: Dictionary with file path and content.\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'"""\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'self\n.\nnode\n.\nget_logger\n().\ninfo\n(\nf"Executing scan_table() tool with args: {args}"\n)\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"try\n:\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'image_path\n=\nargs\n.\nget\n(\n"image_path"\n)\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# ... (\u8def\u5f84\u68c0\u67e5\u548c\u56de\u9000)\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"\u200b\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Construct a prompt asking the large model to recognize the table and return it in Markdown format.\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u6784\u9020\u63d0\u793a\uff0c\u8981\u6c42\u5927\u6a21\u578b\u8bc6\u522b\u8868\u683c\u5e76\u4ee5Markdown\u683c\u5f0f\u8fd4\u56de\u3002\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"if\nself\n.\nnode\n.\nlanguage\n==\n'zh'\n:\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'prompt\n=\n"\u8bf7\u4ed4\u7ec6\u5206\u6790\u8fd9\u5f20\u56fe\u7247\uff0c\u8bc6\u522b\u5176\u4e2d\u7684\u8868\u683c\uff0c\u5e76\u5c06\u5176\u5185\u5bb9\u4ee5Markdown\u683c\u5f0f\u8fd4\u56de\u3002"\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"else\n:\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'prompt\n=\n"Please carefully analyze this image, identify the table within it, and return its content in Markdown format."\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"\u200b\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"result\n=\nself\n.\nnode\n.\nmodel_client\n.\ninfer_with_image\n(\nimage_path\n,\nprompt\n)\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# ... (\u4ece\u7ed3\u679c\u4e2d\u63d0\u53d6Markdown\u6587\u672c)\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"\u200b\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Save the recognized content to a Markdown file. / \u5c06\u8bc6\u522b\u51fa\u7684\u5185\u5bb9\u4fdd\u5b58\u5230Markdown\u6587\u4ef6\u3002\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'md_file_path\n=\nos\n.\npath\n.\njoin\n(\nself\n.\nnode\n.\npkg_path\n,\n"resources_file"\n,\n"scanned_tables"\n,\nf"table_{timestamp}.md"\n)\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"with\nopen\n(\nmd_file_path\n,\n'w'\n,\nencoding\n=\n'utf-8'\n)\nas\nf\n:\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"f\n.\nwrite\n(\ntable_content\n)\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"\u200b\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"return\n{\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'"file_path"\n:\nmd_file_path\n,\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'"table_content"\n:\ntable_content\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"}\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# ... (\u9519\u8bef\u5904\u7406)\n"})}),"\n",(0,s.jsx)(n.h4,{id:"2-model-interface-layer--largemodelutilslarge_model_interfacepy-",children:"2. Model Interface Layer ( largemodel/utils/large_model_interface.py )"}),"\n",(0,s.jsx)(n.p,{children:"The infer_with_image function in this file serves as the unified entry point for all image-related tasks."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"xxxxxxxxxx\n# From largemodel/utils/large_model_interface.py\n\u200b\nclass\nmodel_interface\n:\n# ...\ndef\ninfer_with_image\n(\nself\n,\nimage_path\n,\ntext\n=\nNone\n,\nmessage\n=\nNone\n):\n\"\"\"Unified image inference interface. / \u7edf\u4e00\u7684\u56fe\u50cf\u63a8\u7406\u63a5\u53e3\u3002\"\"\"\n# ... (\u51c6\u5907\u6d88\u606f)\ntry\n:\n# \u6839\u636e self.llm_platform \u7684\u503c\uff0c\u51b3\u5b9a\u8c03\u7528\u54ea\u4e2a\u5177\u4f53\u5b9e\u73b0\nif\nself\n.\nllm_platform\n==\n'ollama'\n:\nresponse_content\n=\nself\n.\nollama_infer\n(\nself\n.\nmessages\n,\nimage_path\n=\nimage_path\n)\nelif\nself\n.\nllm_platform\n==\n'tongyi'\n:\n# ... \u8c03\u7528\u901a\u4e49\u6a21\u578b\u7684\u903b\u8f91\npass\n# ... (\u5176\u4ed6\u5e73\u53f0\u7684\u903b\u8f91)\n# ...\nreturn\n{\n'response'\n:\nresponse_content\n,\n'messages'\n:\nself\n.\nmessages\n.\ncopy\n()}\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"xxxxxxxxxx\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# From largemodel/utils/large_model_interface.py\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"\u200b\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"class\nmodel_interface\n:\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# ...\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"def\ninfer_with_image\n(\nself\n,\nimage_path\n,\ntext\n=\nNone\n,\nmessage\n=\nNone\n):\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'"""Unified image inference interface. / \u7edf\u4e00\u7684\u56fe\u50cf\u63a8\u7406\u63a5\u53e3\u3002"""\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# ... (\u51c6\u5907\u6d88\u606f)\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"try\n:\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u6839\u636e self.llm_platform \u7684\u503c\uff0c\u51b3\u5b9a\u8c03\u7528\u54ea\u4e2a\u5177\u4f53\u5b9e\u73b0\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"if\nself\n.\nllm_platform\n==\n'ollama'\n:\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"response_content\n=\nself\n.\nollama_infer\n(\nself\n.\nmessages\n,\nimage_path\n=\nimage_path\n)\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"elif\nself\n.\nllm_platform\n==\n'tongyi'\n:\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# ... \u8c03\u7528\u901a\u4e49\u6a21\u578b\u7684\u903b\u8f91\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pass\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# ... (\u5176\u4ed6\u5e73\u53f0\u7684\u903b\u8f91)\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# ...\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"return\n{\n'response'\n:\nresponse_content\n,\n'messages'\n:\nself\n.\nmessages\n.\ncopy\n()}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"code-analysis",children:"Code Analysis"}),"\n",(0,s.jsx)(n.p,{children:"The table scanning function is a typical application for converting unstructured image data into structured text data. Its core technology remains guiding model behavior through prompt engineering ."}),"\n",(0,s.jsx)(n.p,{children:"In summary, the general workflow for table scanning is: ToolsManager receives an image and constructs a command to convert the table in this image to Markdown. ToolsManager calls the model interface. model_interface packages the image and the command and sends it to the corresponding model platform according to the configuration. The model returns Markdown-formatted text. model_interface returns the text to ToolsManager. ToolsManager saves the text as a .md file and returns the result. This workflow demonstrates how to leverage the formatting capabilities of a large model as a powerful OCR (Optical Character Recognition) and data structuring tool."}),"\n",(0,s.jsx)(n.h2,{id:"3-practical-operations",children:"3. Practical Operations"}),"\n",(0,s.jsx)(n.h3,{id:"31-configuring-the-offline-large-model",children:"3.1 Configuring the Offline Large Model"}),"\n",(0,s.jsx)(n.h4,{id:"311-configuring-the-llm-platform-hemihexyaml",children:"3.1.1 Configuring the LLM Platform (HemiHex.yaml)"}),"\n",(0,s.jsx)(n.p,{children:"This file determines which large model platform the model_service node loads as its primary language model."}),"\n",(0,s.jsx)(n.p,{children:"Open the file in the terminal :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"xxxxxxxxxx\nvim\n~/yahboom_ws/src/largemodel/config/HemiHex.yaml\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"xxxxxxxxxx\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"vim\n~/yahboom_ws/src/largemodel/config/HemiHex.yaml\n"})}),"\n",(0,s.jsx)(n.p,{children:"Modify/Confirm llm_platform :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"xxxxxxxxxx\nmodel_service\n:\n#\u6a21\u578b\u670d\u52a1\u5668\u8282\u70b9\u53c2\u6570 Model server node parameters\nros__parameters\n:\nlanguage\n:\n'en'\n#\u5927\u6a21\u578b\u63a5\u53e3\u8bed\u8a00 Large Model Interface Language\nuseolinetts\n:\nFalse\n#\u6587\u5b57\u6a21\u5f0f\u4e0b\u6b64\u9879\u65e0\u6548\uff0c\u53ef\u5ffd\u7565 This item is invalid in text mode and can be ignored\n\u200b\n# \u5927\u6a21\u578b\u914d\u7f6e Large model configuration\nllm_platform\n:\n'ollama'\n# \u5173\u952e: \u786e\u4fdd\u8fd9\u91cc\u662f 'ollama' Key: Make sure it's 'ollama'\nregional_setting\n:\n\"international\"\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"xxxxxxxxxx\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"model_service\n:\n#\u6a21\u578b\u670d\u52a1\u5668\u8282\u70b9\u53c2\u6570 Model server node parameters\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ros__parameters\n:\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"language\n:\n'en'\n#\u5927\u6a21\u578b\u63a5\u53e3\u8bed\u8a00 Large Model Interface Language\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"useolinetts\n:\nFalse\n#\u6587\u5b57\u6a21\u5f0f\u4e0b\u6b64\u9879\u65e0\u6548\uff0c\u53ef\u5ffd\u7565 This item is invalid in text mode and can be ignored\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"\u200b\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u5927\u6a21\u578b\u914d\u7f6e Large model configuration\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"llm_platform\n:\n'ollama'\n# \u5173\u952e: \u786e\u4fdd\u8fd9\u91cc\u662f 'ollama' Key: Make sure it's 'ollama'\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'regional_setting\n:\n"international"\n'})}),"\n",(0,s.jsx)(n.h4,{id:"312-\u914d\u7f6e\u6a21\u578b\u63a5\u53e3--large_model_interfaceyaml-",children:"3.1.2 \u914d\u7f6e\u6a21\u578b\u63a5\u53e3 ( large_model_interface.yaml )"}),"\n",(0,s.jsx)(n.p,{children:"\u6b64\u6587\u4ef6\u5b9a\u4e49\u4e86\u5f53\u5e73\u53f0\u88ab\u9009\u4e3a ollama \u65f6\uff0c\u5177\u4f53\u4f7f\u7528\u54ea\u4e2a\u89c6\u89c9\u6a21\u578b\u3002"}),"\n",(0,s.jsx)(n.p,{children:"1.\u5728\u7ec8\u7aef\u6253\u5f00\u6587\u4ef6"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"xxxxxxxxxx\nvim ~/yahboom_ws/src/largemodel/config/large_model_interface.yaml\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"xxxxxxxxxx\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"vim ~/yahboom_ws/src/largemodel/config/large_model_interface.yaml\n"})}),"\n",(0,s.jsx)(n.p,{children:"2.\u627e\u5230ollama\u76f8\u5173\u7684\u914d\u7f6e"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'xxxxxxxxxx\n#.....\n## Offline Large Language Models\n# Ollama Configuration\nollama_host:\n"http://localhost:11434"\n# Ollama server address\nollama_model:\n"llava"\n# Key: Replace this with the multimodal model you downloaded, such as "llava"\n#.....\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"xxxxxxxxxx\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"#.....\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"## Offline Large Language Models\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Ollama Configuration\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'ollama_host:\n"http://localhost:11434"\n# Ollama server address\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'ollama_model:\n"llava"\n# Key: Replace this with the multimodal model you downloaded, such as "llava"\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"#.....\n"})}),"\n",(0,s.jsx)(n.p,{children:"Note : Please ensure that the model specified in the configuration parameters (e.g., llava ) can handle multimodal input."}),"\n",(0,s.jsx)(n.h3,{id:"32-starting-and-testing-text-mode",children:"3.2 Starting and Testing (Text Mode)"}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsx)(n.p,{children:"Due to performance limitations on the Jetson Orin Nano 4GB, performance may be poor. To experience this feature, please refer to the corresponding section in [Online Large Model (Text Interaction)]."})}),"\n",(0,s.jsx)(n.p,{children:"Place a table image file to test in the following path: /home/jetson/yahboom_ws/src/largemodel/resources_file/scan_table"}),"\n",(0,s.jsx)(n.p,{children:"Then name the image test_table.jpg"}),"\n",(0,s.jsx)(n.p,{children:"Open a terminal and run the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"xxxxxxxxxx\nros2 launch largemodel largemodel_control.launch.py\n\u2022\n\u2022\ntext_chat_mode:=true\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"xxxxxxxxxx\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ros2 launch largemodel largemodel_control.launch.py\n\u2022\n\u2022\ntext_chat_mode:=true\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"xxxxxxxxxx\nros2 run text_chat text_chat\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"xxxxxxxxxx\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ros2 run text_chat text_chat\n"})}),"\n",(0,s.jsx)(n.p,{children:'Then start typing: "Analyze the table."'}),"\n",(0,s.jsx)(n.p,{children:"This document can be found in the ~/yahboom_ws/src/largemodel/resources_file/scan_table directory."}),"\n",(0,s.jsx)(n.h2,{id:"4-common-problems-and-solutions",children:"4. Common Problems and Solutions"}),"\n",(0,s.jsx)(n.h4,{id:"problem-1-incomplete-recognition-of-table-content-or-typos",children:"Problem 1: Incomplete recognition of table content or typos."}),"\n",(0,s.jsx)(n.p,{children:"Solution :"}),"\n",(0,s.jsx)(n.h4,{id:"problem-2-table-file-not-found-error",children:'Problem 2: "Table file not found" error'}),"\n",(0,s.jsx)(n.p,{children:"Solution :"})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);
"use strict";(globalThis.webpackChunkhemihex_docs=globalThis.webpackChunkhemihex_docs||[]).push([[118],{28453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>t});var i=r(96540);const s={},o=i.createContext(s);function a(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(o.Provider,{value:n},e.children)}},29369:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/image-20250102164847286-203189024f139226381139953848901b.png"},33961:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/image-20250102165136998-5fc1f2d1af1f2421a4bb684fa3110fbb.png"},41406:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/image-20250102163340185-fbfd8ebe343addf79a2a2f81a675867c.png"},88072:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"Advanced Vision/YOLO11/model-prediction-on-jetson","title":"Model Prediction on Jetson","description":"This section explains how to perform model prediction (inference) on","source":"@site/docs/07 - Advanced Vision/3-YOLO11/16-model-prediction-on-jetson.md","sourceDirName":"07 - Advanced Vision/3-YOLO11","slug":"/Advanced Vision/YOLO11/model-prediction-on-jetson","permalink":"/docs/Advanced Vision/YOLO11/model-prediction-on-jetson","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/07 - Advanced Vision/3-YOLO11/16-model-prediction-on-jetson.md","tags":[],"version":"current","sidebarPosition":16,"frontMatter":{"sidebar_position":16,"title":"Model Prediction on Jetson"},"sidebar":"tutorialSidebar","previous":{"title":"Model Training and Conversion on Jetson","permalink":"/docs/Advanced Vision/YOLO11/model-training-and-conversion-on-jetson"},"next":{"title":"MediaPipe Environment Setup on Jetson","permalink":"/docs/Advanced Vision/Media Pipe/mediapipe-environment-on-jetson"}}');var s=r(74848),o=r(28453);const a={sidebar_position:16,title:"Model Prediction on Jetson"},t="Model Prediction on Jetson",c={},d=[{value:"1. Best Performance Mode",id:"1-best-performance-mode",level:2},{value:"1.1 Enable MAX Power Mode",id:"11-enable-max-power-mode",level:3},{value:"1.2 Enable Jetson Clocks",id:"12-enable-jetson-clocks",level:3},{value:"2. Model Prediction",id:"2-model-prediction",level:2},{value:"2.1 CLI Usage",id:"21-cli-usage",level:3},{value:"2.2 Python Usage",id:"22-python-usage",level:3},{value:"2.2.1 USB Camera Prediction",id:"221-usb-camera-prediction",level:2},{value:"Navigate to Demo Directory",id:"navigate-to-demo-directory",level:3},{value:"Run USB Camera Script",id:"run-usb-camera-script",level:3},{value:"Output Preview",id:"output-preview",level:3},{value:"Sample Code (USB Camera)",id:"sample-code-usb-camera",level:3},{value:"2.2.2 CSI Camera Prediction",id:"222-csi-camera-prediction",level:2},{value:"Navigate to Demo Directory",id:"navigate-to-demo-directory-1",level:3},{value:"Run CSI Camera Script",id:"run-csi-camera-script",level:3},{value:"Sample Code (CSI Camera)",id:"sample-code-csi-camera",level:3},{value:"Summary",id:"summary",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"model-prediction-on-jetson",children:"Model Prediction on Jetson"})}),"\n",(0,s.jsxs)(n.p,{children:["This section explains how to perform ",(0,s.jsx)(n.strong,{children:"model prediction (inference)"})," on\r\nNVIDIA Jetson using trained YOLO models in ",(0,s.jsx)(n.strong,{children:"PyTorch"}),", ",(0,s.jsx)(n.strong,{children:"ONNX"}),", or\r\n",(0,s.jsx)(n.strong,{children:"TensorRT"})," formats."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"1-best-performance-mode",children:"1. Best Performance Mode"}),"\n",(0,s.jsx)(n.p,{children:"Before running inference, configure Jetson for maximum performance."}),"\n",(0,s.jsx)(n.h3,{id:"11-enable-max-power-mode",children:"1.1 Enable MAX Power Mode"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo nvpmodel -m 2\n"})}),"\n",(0,s.jsx)(n.h3,{id:"12-enable-jetson-clocks",children:"1.2 Enable Jetson Clocks"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo jetson_clocks\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"2-model-prediction",children:"2. Model Prediction"}),"\n",(0,s.jsx)(n.h3,{id:"21-cli-usage",children:"2.1 CLI Usage"}),"\n",(0,s.jsxs)(n.p,{children:["::: note\r\nThe YOLO CLI currently supports ",(0,s.jsx)(n.strong,{children:"USB cameras only"}),". For CSI cameras,\r\nuse Python-based inference.\r\n:::"]}),"\n",(0,s.jsx)(n.p,{children:"Run prediction with a TensorRT engine model:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"yolo predict model=best.engine source=0 save=False show\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"source=0"}),": USB camera index\\"]}),"\n",(0,s.jsx)(n.li,{children:"For multiple cameras, increment the index accordingly"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Output videos are saved to:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"/home/jetson/ultralytics/ultralytics/output/\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"CLI Prediction\r\nResult",src:r(41406).A+"",width:"1280",height:"800"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"22-python-usage",children:"2.2 Python Usage"}),"\n",(0,s.jsxs)(n.p,{children:["Python-based inference supports both ",(0,s.jsx)(n.strong,{children:"USB cameras"})," and ",(0,s.jsx)(n.strong,{children:"CSI\r\ncameras"}),"."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"221-usb-camera-prediction",children:"2.2.1 USB Camera Prediction"}),"\n",(0,s.jsx)(n.h3,{id:"navigate-to-demo-directory",children:"Navigate to Demo Directory"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd /home/jetson/ultralytics/ultralytics/yahboom_demo\n"})}),"\n",(0,s.jsx)(n.h3,{id:"run-usb-camera-script",children:"Run USB Camera Script"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"python3 06.orange_camera_usb.py\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Press ",(0,s.jsx)(n.strong,{children:"q"})," to exit the preview window."]}),"\n",(0,s.jsx)(n.h3,{id:"output-preview",children:"Output Preview"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"/home/jetson/ultralytics/ultralytics/output/\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"USB Camera\r\nResult",src:r(33961).A+"",width:"1280",height:"800"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"sample-code-usb-camera",children:"Sample Code (USB Camera)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import cv2\r\nfrom ultralytics import YOLO\r\n\r\nmodel = YOLO(\r\n    "/home/jetson/ultralytics/ultralytics/data/yahboom_data/orange_data/"\r\n    "runs/detect/train/weights/best.engine"\r\n)\r\n\r\ncap = cv2.VideoCapture(0)\r\n\r\nframe_width = int(cap.get(cv2.CAP_PROP_FRAME_WIDTH))\r\nframe_height = int(cap.get(cv2.CAP_PROP_FRAME_HEIGHT))\r\nfps = int(cap.get(cv2.CAP_PROP_FPS))\r\n\r\nout = cv2.VideoWriter(\r\n    "/home/jetson/ultralytics/ultralytics/output/orange_usb.mp4",\r\n    cv2.VideoWriter_fourcc(*"mp4v"),\r\n    fps,\r\n    (frame_width, frame_height),\r\n)\r\n\r\nwhile cap.isOpened():\r\n    success, frame = cap.read()\r\n    if not success:\r\n        break\r\n\r\n    results = model(frame)\r\n    annotated = results[0].plot()\r\n    out.write(annotated)\r\n\r\n    cv2.imshow("YOLO Inference", cv2.resize(annotated, (640, 480)))\r\n    if cv2.waitKey(1) & 0xFF == ord("q"):\r\n        break\r\n\r\ncap.release()\r\nout.release()\r\ncv2.destroyAllWindows()\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"222-csi-camera-prediction",children:"2.2.2 CSI Camera Prediction"}),"\n",(0,s.jsx)(n.h3,{id:"navigate-to-demo-directory-1",children:"Navigate to Demo Directory"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd /home/jetson/ultralytics/ultralytics/yahboom_demo\n"})}),"\n",(0,s.jsx)(n.h3,{id:"run-csi-camera-script",children:"Run CSI Camera Script"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"python3 06.orange_camera_csi.py\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Press ",(0,s.jsx)(n.strong,{children:"q"})," to exit the preview window."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"sample-code-csi-camera",children:"Sample Code (CSI Camera)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import cv2\r\nfrom ultralytics import YOLO\r\nfrom jetcam.csi_camera import CSICamera\r\n\r\nmodel = YOLO(\r\n    "/home/jetson/ultralytics/ultralytics/data/yahboom_data/orange_data/"\r\n    "runs/detect/train/weights/best.engine"\r\n)\r\n\r\ncamera = CSICamera(width=640, height=480)\r\n\r\nwhile True:\r\n    frame = camera.read()\r\n    results = model(frame)\r\n    annotated = results[0].plot()\r\n\r\n    cv2.imshow("YOLO CSI Inference", annotated)\r\n    if cv2.waitKey(1) & 0xFF == ord("q"):\r\n        break\r\n\r\ncv2.destroyAllWindows()\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"CSI Camera\r\nResult",src:r(29369).A+"",width:"1280",height:"800"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Supports inference using ",(0,s.jsx)(n.code,{children:".pt"}),", ",(0,s.jsx)(n.code,{children:".onnx"}),", and ",(0,s.jsx)(n.code,{children:".engine"})," models"]}),"\n",(0,s.jsx)(n.li,{children:"CLI inference is limited to USB cameras"}),"\n",(0,s.jsx)(n.li,{children:"Python inference supports USB and CSI cameras"}),"\n",(0,s.jsxs)(n.li,{children:["TensorRT (",(0,s.jsx)(n.code,{children:".engine"}),") provides the best performance"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:["Maintained by ",(0,s.jsx)(n.strong,{children:"HemiHex"})," for Jetson-based advanced vision workflows."]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}}}]);
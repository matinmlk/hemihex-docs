"use strict";(globalThis.webpackChunkhemihex_docs=globalThis.webpackChunkhemihex_docs||[]).push([[7076],{3858:(e,n,i)=>{i.d(n,{A:()=>a});const a=i.p+"assets/images/201-cc90ad5f85afed4b1019ecb34adadb45.png"},4435:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>h,frontMatter:()=>t,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"ROS1/project-file-structure","title":"Project File Structure","description":"2.1 Project File Structure","source":"@site/docs/9 - ROS1/02-project-file-structure.md","sourceDirName":"9 - ROS1","slug":"/ROS1/project-file-structure","permalink":"/docs/ROS1/project-file-structure","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/9 - ROS1/02-project-file-structure.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Project File Structure","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"ROS Introduction","permalink":"/docs/ROS1/ros-introduction-core"},"next":{"title":"Common Commands and Tools","permalink":"/docs/ROS1/common-commands-and-tools"}}');var c=i(4848),r=i(8453);const t={title:"Project File Structure",sidebar_position:2},s="2. Project File Structure",d={},l=[{value:"2.1 Project File Structure",id:"21-project-file-structure",level:2},{value:"2.2 Workspace",id:"22-workspace",level:2},{value:"2.3 Package (Feature Package)",id:"23-package-feature-package",level:2},{value:"Create a Feature Package",id:"create-a-feature-package",level:3},{value:"Typical Package File Structure",id:"typical-package-file-structure",level:3},{value:"2.4 Introduction to <code>CMakeLists.txt</code>",id:"24-introduction-to-cmakeliststxt",level:2},{value:"2.4.1 Overview",id:"241-overview",level:3},{value:"2.4.2 Basic Format",id:"242-basic-format",level:3},{value:"2.4.3 Boost",id:"243-boost",level:3},{value:"2.4.4 <code>catkin_package()</code>",id:"244-catkin_package",level:3},{value:"2.4.5 Include &amp; Link Directories",id:"245-include--link-directories",level:3}];function o(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"2-project-file-structure",children:"2. Project File Structure"})}),"\n",(0,c.jsx)(n.h2,{id:"21-project-file-structure",children:"2.1 Project File Structure"}),"\n",(0,c.jsx)(n.p,{children:"The file structure of ROS is not mandatory for every folder and is designed according to business needs."}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{alt:"ROS Project File Structure",src:i(3858).A+"",width:"683",height:"371"})}),"\n",(0,c.jsx)(n.h2,{id:"22-workspace",children:"2.2 Workspace"}),"\n",(0,c.jsx)(n.p,{children:"A workspace is a place to manage and organize ROS engineering project files. It can be intuitively understood as a warehouse that contains various ROS projects, making it easy for the system to organize, manage, and call them. In a graphical interface, it is simply a folder. The ROS code we write ourselves is usually stored in the workspace."}),"\n",(0,c.jsx)(n.p,{children:"There are four main primary directories under a workspace:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"src"})," \u2014 Source space; ROS Catkin software packages (source code packages)"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"build"})," \u2014 Compilation space; cache information and intermediate files for Catkin (CMake)"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"devel"})," \u2014 Development space; generated target files (including header files, dynamic libraries, static libraries, executable files, etc.), and environment variables"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"install"})," \u2014 Installation space"]}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:["The top-level workspace (can be named arbitrarily) and the ",(0,c.jsx)(n.code,{children:"src"})," folder (must be named ",(0,c.jsx)(n.code,{children:"src"}),") need to be created manually."]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["The ",(0,c.jsx)(n.code,{children:"build"})," and ",(0,c.jsx)(n.code,{children:"devel"})," folders are created automatically by the ",(0,c.jsx)(n.code,{children:"catkin_make"})," command."]}),"\n",(0,c.jsxs)(n.li,{children:["The ",(0,c.jsx)(n.code,{children:"install"})," folder is created by the ",(0,c.jsx)(n.code,{children:"catkin_make install"})," command and is rarely used."]}),"\n"]}),"\n",(0,c.jsx)(n.admonition,{type:"note",children:(0,c.jsxs)(n.p,{children:["When using ",(0,c.jsx)(n.code,{children:"catkin_make"}),", make sure to return to the top-level workspace before compiling. In the same workspace, feature packages with the same name are not allowed. Across different workspaces, packages with the same name are allowed."]})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"mkdir -p ~/catkin_ws/src        # create workspace and src folder\ncd catkin_ws                   # enter the workspace\ncatkin_make                    # compile\nsource devel/setup.bash        # update the workspace environment\n"})}),"\n",(0,c.jsx)(n.h2,{id:"23-package-feature-package",children:"2.3 Package (Feature Package)"}),"\n",(0,c.jsxs)(n.p,{children:["A package is a specific combination of file structures and folders. Usually, program code that implements the same specific function is placed in one package. Only ",(0,c.jsx)(n.code,{children:"CMakeLists.txt"})," and ",(0,c.jsx)(n.code,{children:"package.xml"})," are required; the remaining directories depend on the needs of the software package."]}),"\n",(0,c.jsx)(n.h3,{id:"create-a-feature-package",children:"Create a Feature Package"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"cd ~/catkin_ws/src\ncatkin_create_pkg my_pkg rospy rosmsg roscpp\n"})}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"rospy"}),", ",(0,c.jsx)(n.code,{children:"rosmsg"}),", and ",(0,c.jsx)(n.code,{children:"roscpp"})," are dependency libraries that can be added according to project needs. Adding them during creation avoids additional configuration later. If you forget to add them, they must be configured manually."]}),"\n",(0,c.jsx)(n.h3,{id:"typical-package-file-structure",children:"Typical Package File Structure"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-text",children:"|-- CMakeLists.txt\n|-- package.xml\n|-- include/\n|-- config/\n|-- launch/\n|-- meshes/\n|-- urdf/\n|-- rviz/\n|-- src/\n|-- scripts/\n|-- srv/\n|-- msg/\n|-- action/\n"})}),"\n",(0,c.jsxs)(n.h2,{id:"24-introduction-to-cmakeliststxt",children:["2.4 Introduction to ",(0,c.jsx)(n.code,{children:"CMakeLists.txt"})]}),"\n",(0,c.jsx)(n.h3,{id:"241-overview",children:"2.4.1 Overview"}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"CMakeLists.txt"})," is the rule file for the CMake compilation system. The Catkin build system follows the same structure as CMake, with additional macros specific to ROS."]}),"\n",(0,c.jsx)(n.p,{children:"This file specifies:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Which packages this project depends on"}),"\n",(0,c.jsx)(n.li,{children:"Which targets are compiled and generated"}),"\n",(0,c.jsx)(n.li,{children:"How compilation and linking are handled"}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:["When the Catkin build system runs, it first finds the ",(0,c.jsx)(n.code,{children:"CMakeLists.txt"})," file under each package and then compiles according to those rules."]}),"\n",(0,c.jsx)(n.h3,{id:"242-basic-format",children:"2.4.2 Basic Format"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-cmake",children:"cmake_minimum_required()\nproject()\nfind_package()\ncatkin_python_setup()\nadd_message_files()\nadd_service_files()\nadd_action_files()\ngenerate_messages()\ncatkin_package()\nadd_library()\nadd_executable()\nadd_dependencies()\ntarget_link_libraries()\ncatkin_add_gtest()\ninstall()\n"})}),"\n",(0,c.jsx)(n.h3,{id:"243-boost",children:"2.4.3 Boost"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-cmake",children:"find_package(Boost REQUIRED COMPONENTS thread)\n"})}),"\n",(0,c.jsxs)(n.h3,{id:"244-catkin_package",children:["2.4.4 ",(0,c.jsx)(n.code,{children:"catkin_package()"})]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-cmake",children:"catkin_package(\n  INCLUDE_DIRS include\n  LIBRARIES ${PROJECT_NAME}\n  CATKIN_DEPENDS roscpp nodelet\n  DEPENDS eigen opencv\n)\n"})}),"\n",(0,c.jsx)(n.h3,{id:"245-include--link-directories",children:"2.4.5 Include & Link Directories"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-cmake",children:"include_directories(\n  include\n  ${Boost_INCLUDE_DIRS}\n  ${catkin_INCLUDE_DIRS}\n)\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-cmake",children:"link_directories(~/my_libs)\n"})}),"\n",(0,c.jsx)(n.admonition,{type:"warning",children:(0,c.jsxs)(n.p,{children:["Using ",(0,c.jsx)(n.code,{children:"link_directories()"})," is generally not recommended. Prefer defining dependencies via ",(0,c.jsx)(n.code,{children:"find_package()"})," and ",(0,c.jsx)(n.code,{children:"target_link_libraries()"}),"."]})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(o,{...e})}):o(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>s});var a=i(6540);const c={},r=a.createContext(c);function t(e){const n=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:t(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);
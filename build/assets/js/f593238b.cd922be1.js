"use strict";(globalThis.webpackChunkhemihex_docs=globalThis.webpackChunkhemihex_docs||[]).push([[7571],{19136:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>o,default:()=>d,frontMatter:()=>c,metadata:()=>l,toc:()=>s});const l=JSON.parse('{"id":"ROS2/ros2-launch-startup-file-configuration","title":"Launch Startup File Configuration","description":"1. Introduction to Launch","source":"@site/docs/10 - ROS2/16-ros2-launch-startup-file-configuration.md","sourceDirName":"10 - ROS2","slug":"/ROS2/ros2-launch-startup-file-configuration","permalink":"/docs/ROS2/ros2-launch-startup-file-configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/10 - ROS2/16-ros2-launch-startup-file-configuration.md","tags":[],"version":"current","sidebarPosition":28,"frontMatter":{"sidebar_position":28,"title":"Launch Startup File Configuration"},"sidebar":"tutorialSidebar","previous":{"title":"RQt Toolbox","permalink":"/docs/ROS2/ros2-rqt-toolbox"},"next":{"title":"Recording and Playback Tool (Bag2)","permalink":"/docs/ROS2/ros2-recording-and-playback-tool"}}');var a=i(74848),r=i(28453);const c={sidebar_position:28,title:"Launch Startup File Configuration"},o="19. ROS 2 Launch Startup File Configuration",t={},s=[{value:"1. Introduction to Launch",id:"1-introduction-to-launch",level:2},{value:"Why Use Python Launch Files?",id:"why-use-python-launch-files",level:3},{value:"2. Writing a Single Node Launch Program",id:"2-writing-a-single-node-launch-program",level:2},{value:"2.1 Create a Package",id:"21-create-a-package",level:3},{value:"2.2 Create the Launch File",id:"22-create-the-launch-file",level:3},{value:"2.3 Configure <code>setup.py</code>",id:"23-configure-setuppy",level:3},{value:"2.4 Compile the Package",id:"24-compile-the-package",level:3},{value:"2.5 Run the Launch File",id:"25-run-the-launch-file",level:3},{value:"2.6 Source Code Analysis",id:"26-source-code-analysis",level:3},{value:"Import Libraries",id:"import-libraries",level:4},{value:"Define Launch Logic",id:"define-launch-logic",level:4},{value:"3. Writing a Launch Program for Multiple Nodes",id:"3-writing-a-launch-program-for-multiple-nodes",level:2},{value:"3.1 Create the Multi-Node Launch File",id:"31-create-the-multi-node-launch-file",level:3},{value:"3.2 Compile the Package",id:"32-compile-the-package",level:3},{value:"3.3 Run the Multi-Node Launch File",id:"33-run-the-multi-node-launch-file",level:3}];function h(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"19-ros-2-launch-startup-file-configuration",children:"19. ROS 2 Launch Startup File Configuration"})}),"\n",(0,a.jsx)(n.h2,{id:"1-introduction-to-launch",children:"1. Introduction to Launch"}),"\n",(0,a.jsx)(n.p,{children:"Until now, every time we launched a ROS node, we had to open a new\nterminal and run a command. With so many nodes in a robotic system,\ndoing this every time is cumbersome."}),"\n",(0,a.jsxs)(n.p,{children:["ROS 2 provides ",(0,a.jsx)(n.strong,{children:"launch files"}),", which allow you to:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Start multiple nodes at once\\"}),"\n",(0,a.jsx)(n.li,{children:"Configure parameters\\"}),"\n",(0,a.jsx)(n.li,{children:"Manage system startup more efficiently"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"ROS 2 launch files can be written in:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"XML\\"}),"\n",(0,a.jsx)(n.li,{children:"YAML\\"}),"\n",(0,a.jsx)(n.li,{children:"Python"}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["This tutorial uses ",(0,a.jsx)(n.strong,{children:"Python launch files"}),", which provide the most\nflexibility."]}),"\n",(0,a.jsx)(n.h3,{id:"why-use-python-launch-files",children:"Why Use Python Launch Files?"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Access to full Python standard libraries\\"}),"\n",(0,a.jsx)(n.li,{children:"Direct access to ROS 2 launch APIs\\"}),"\n",(0,a.jsx)(n.li,{children:"More powerful logic and conditional execution"}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"2-writing-a-single-node-launch-program",children:"2. Writing a Single Node Launch Program"}),"\n",(0,a.jsx)(n.h3,{id:"21-create-a-package",children:"2.1 Create a Package"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ros2 pkg create learn_launch --build-type ament_python\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h3,{id:"22-create-the-launch-file",children:"2.2 Create the Launch File"}),"\n",(0,a.jsxs)(n.p,{children:["Create a ",(0,a.jsx)(n.code,{children:"launch"})," folder inside the package and add:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:"single_node_launch.py\n"})}),"\n",(0,a.jsx)(n.p,{children:"Paste the following code:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    node = Node(\n        package='pkg_helloworld_py',\n        executable='helloworld',\n        output='screen'\n    )\n    return LaunchDescription([node])\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.h3,{id:"23-configure-setuppy",children:["2.3 Configure ",(0,a.jsx)(n.code,{children:"setup.py"})]}),"\n",(0,a.jsx)(n.p,{children:"Add the launch file path so it gets installed:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"import os\nfrom glob import glob\n\n(\n    os.path.join('share', package_name, 'launch'),\n    glob(os.path.join('launch', '*launch.py'))\n)\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h3,{id:"24-compile-the-package",children:"2.4 Compile the Package"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"colcon build --packages-select learn_launch\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h3,{id:"25-run-the-launch-file",children:"2.5 Run the Launch File"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ros2 launch learn_launch single_node_launch.py\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h3,{id:"26-source-code-analysis",children:"2.6 Source Code Analysis"}),"\n",(0,a.jsx)(n.h4,{id:"import-libraries",children:"Import Libraries"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch_ros.actions import Node\n"})}),"\n",(0,a.jsx)(n.h4,{id:"define-launch-logic",children:"Define Launch Logic"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"def generate_launch_description():\n    node = Node(\n        package='pkg_helloworld_py',\n        executable='helloworld'\n    )\n    return LaunchDescription([node])\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Key Parameters:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"package"}),": ROS 2 package name\\"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"executable"}),": Node executable name"]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"3-writing-a-launch-program-for-multiple-nodes",children:"3. Writing a Launch Program for Multiple Nodes"}),"\n",(0,a.jsx)(n.h3,{id:"31-create-the-multi-node-launch-file",children:"3.1 Create the Multi-Node Launch File"}),"\n",(0,a.jsx)(n.p,{children:"Create:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:"multi_node_launch.py\n"})}),"\n",(0,a.jsx)(n.p,{children:"Add the following content:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    publisher_node = Node(\n        package='pkg_topic',\n        executable='publisher_demo',\n        output='screen'\n    )\n\n    subscriber_node = Node(\n        package='pkg_topic',\n        executable='subscriber_demo',\n        output='screen'\n    )\n\n    return LaunchDescription([\n        publisher_node,\n        subscriber_node\n    ])\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h3,{id:"32-compile-the-package",children:"3.2 Compile the Package"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"colcon build --packages-select learn_launch\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h3,{id:"33-run-the-multi-node-launch-file",children:"3.3 Run the Multi-Node Launch File"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ros2 launch learn_launch multi_node_launch.py\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.p,{children:["This documentation is maintained by ",(0,a.jsx)(n.strong,{children:"HemiHex"})," for ROS 2 launch system\nconfiguration."]})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>o});var l=i(96540);const a={},r=l.createContext(a);function c(e){const n=l.useContext(r);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),l.createElement(r.Provider,{value:n},e.children)}}}]);